<main class="container">
  <section class="col-md-6 col-sm-6 col-xs-12 col-lg-4 col-md-offset-3 col-sm-offset-3 col-lg-offset-4">
    <div class="panel panel-default">

      <div class="panel-heading">
        Cadastrar
      </div><!-- cabecalho do panel -->

      <form class="panel-body" #signupForm='ngForm' (ngSubmit)="onSubmit()" novalidate>
        
        <div class="col-md-12" *ngIf='showError'>
          <div class="alert alert-danger">
            <strong>Houve um erro ao registrar o usuário!</strong> verifique os dados abaixo.
          </div>
        </div><!-- alerta de erro -->

        <div class="col-md-12" *ngIf='showSuccess'>
          <div class="alert alert-success">
            <strong>O cadastro foi realizado com sucesso</strong> você já pode logar no sistema
          </div>
        </div><!-- alerta de sucesso -->

        <div class="col-md-12">
          <div class="input-group">
            <span class="input-group-addon">@</span>
            <input  type="email" 
                    class="form-control" 
                    placeholder="E-mail" 
                    [(ngModel)]='model.email' 
                    name="email"
                    #email="ngModel"
                    required
                    pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$">
          </div>
          
          <div [hidden]="email.valid || email.untouched">
            <p class="text-danger" *ngIf="email.errors && email.errors.required">E-mail é obrigatório</p>
            <p class="text-danger" *ngIf="email.errors && email.errors.pattern">E-mail é inválido</p>
          </div><!-- errors do input -->

        </div><!-- input de email -->
        
        <div class="col-md-12">
          <div class="input-group">
            <span class="input-group-addon">
              <span class="glyphicon glyphicon-lock"></span>
            </span>
            <input  type="password" 
                    placeholder="Senha" 
                    class="form-control" 
                    [(ngModel)]='model.password' 
                    name="password"
                    #password="ngModel"
                    minlength="6"
                    maxlength="18"
                    required>
                    
          </div>

          <div [hidden]="password.valid || password.untouched">
            <p class="text-danger" *ngIf="password.errors && password.errors.required">Senha é obrigatório</p>
            <p class="text-danger" *ngIf="password.errors && password.errors.minlength">Senha deve ter mais de 6 caracteres</p>
          </div><!-- errors do input -->

        </div><!-- input de senha -->
        
        <div class="col-md-12">
          <button type="submit" class="btn btn-block btn-info" [disabled]="!signupForm.form.valid">Cadastrar</button>
        </div><!-- botao de login -->

        <div class="col-md-12">
          <a routerLink="/login" class="btn btn-block btn-danger">Cancelar</a>
        </div><!-- botao de registro -->
      
      </form><!-- fim do corpo do panel -->

    </div><!-- fim do panel -->
  </section><!-- fim do box -->
</main>
